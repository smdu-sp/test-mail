generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Inscricao {
    id           Int      @id @default(autoincrement())
    nomeChapa    String?  @db.Text
    nomeEntidade String   @db.Text
    segmento     String   @db.Text
    is_chapa     Boolean
    nome         String   @db.Text
    email        String   @db.Text
    protocolo    String?  @unique
    createdAt    DateTime @default(now())

    arquivo      Arquivo?

    @@map("inscricao")
}

model Arquivo {
    id           String    @id @default(uuid())
    caminho      String    @db.Text
    inscricaoId  Int       @unique 
    criadoEm     DateTime  @default(now())
    atualizadoEm DateTime  @default(now()) @updatedAt 

    inscricao    Inscricao @relation(fields: [inscricaoId], references: [id])

    @@map("arquivos") // Nome da tabela no banco de dados
}

enum Permissao {
  DEV
  ADM
  USR
}

model Usuario {
  id            String        @id @default(uuid())
  nome          String        @db.Text
  email         String        @unique
  login         String        @unique
  permissao     Permissao     @default(USR)

  criadoEm      DateTime      @default(now())
  atualizadoEm  DateTime      @default(now()) @updatedAt

  @@map("usuarios")
}